#include "Led.h"


/*    
      ____                      _____                  +---+
     / ___\                     / __ \                 | R |
    / /                        / /_/ /                 +---+
   / /   ________  ____  ___  / ____/___  ____  __   __
  / /  / ___/ __ `/_  / / _ \/ /   / __ \/ _  \/ /  / /
 / /__/ /  / /_/ / / /_/  __/ /   / /_/ / / / / /__/ /
 \___/_/   \__,_/ /___/\___/_/    \___ /_/ /_/____  /
                                                 / /
                                            ____/ /
                                           /_____/
main.c file
编写者：小马  (Camel)
作者E-mail：375836945@qq.com
编译环境：MDK-Lite  Version: 4.23
初版时间: 2014-03-28
功能：
1.各种状态指示灯初始化
------------------------------------
*/



/********************************************
              Led初始化函数
功能：
1.配置Led接口IO输出方向
2.关闭所有Led(开机默认方式)

描述：
Led接口：
Led1-->PB0
Led2-->PB1
Led3-->PB3
Led4-->PB11
对应IO=1，灯亮
********************************************/
void LedInit(void)
{
    RCC->APB2ENR|=1<<3;    //使能PORTB时钟
  	RCC->APB2ENR|=1<<0;    //使能复用时钟	   
	
    GPIOB->CRL&=0XFFFF0F00;  //PB0,1,3推挽输出
    GPIOB->CRL|=0X00003033;
	  
	  GPIOB->CRH&=0XFFFF0FFF;  //PB11推挽输出
    GPIOB->CRH|=0X00003000;
    //1000 0000 1011
	  GPIOB->ODR|=0x80B;        //PB0,1,3,11上拉
    AFIO->MAPR|=2<<24;      //关闭JATG,千万不能讲SWD也关闭，否则芯片作废，亲测!!!!!!!!!!!!!!!!!!!!!!!!!!!!
    //PB3 默认是JTDO接口,属于调试接口，复用功能为PB4 IO口
   Led1=0;
   Led2=0;
   Led3=0;
   Led4=0;
}



